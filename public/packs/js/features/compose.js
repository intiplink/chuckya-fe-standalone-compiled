(window.webpackJsonp=window.webpackJsonp||[]).push([[454],{1999:function(e,a,t){"use strict";t.r(a);var s=t(0),i=t(2),o=(t(14),t(1)),c=t(8),n=t(54),r=t(247),l=t(40),d=t(10),b=t(127),g=t.n(b),u=t(1717),m=t(529),O=t(2097),h=t(2078),j=t(1498),f=t(282),p=t(1499),_=t(63),v=t(1290),M=t(36),w=t(1176),C=t(538),N=t(25),k=t(19),y=t(286),F=t(392),z=t(26),I=t(2079),x=t(2064),L=t(163),P=t(1871),S=t(428),T=t(2098),A=t(172),H=t(1611),U=t(1493),W=t(1209),q=t(6);const B=10,D=e=>e.size>B&&e.size%B==1?e.skipLast(1):e,J=()=>{const e=Object(A.c)((e=>e.getIn(["search","results"]))),a=Object(A.c)((e=>e.getIn(["search","isLoading"]))),t=Object(A.b)(),i=Object(o.useCallback)((()=>{t(Object(L.n)("accounts"))}),[t]),c=Object(o.useCallback)((()=>{t(Object(L.n)("statuses"))}),[t]),n=Object(o.useCallback)((()=>{t(Object(L.n)("hashtags"))}),[t]);let r,l,d;return e.get("accounts")&&e.get("accounts").size>0&&(r=Object(s.a)(T.a,{title:Object(q.jsxs)(q.Fragment,{children:[Object(s.a)(M.a,{id:"users",icon:u.a}),Object(s.a)(z.a,{id:"search_results.accounts",defaultMessage:"Profiles"})]})},void 0,D(e.get("accounts")).map((e=>Object(s.a)(U.a,{id:e},e))),e.get("accounts").size>B&&e.get("accounts").size%B==1&&Object(s.a)(P.a,{visible:!0,onClick:i}))),e.get("hashtags")&&e.get("hashtags").size>0&&(d=Object(s.a)(T.a,{title:Object(q.jsxs)(q.Fragment,{children:[Object(s.a)(M.a,{id:"hashtag",icon:x.a}),Object(s.a)(z.a,{id:"search_results.hashtags",defaultMessage:"Hashtags"})]})},void 0,D(e.get("hashtags")).map((e=>Object(s.a)(H.b,{hashtag:e},e.get("name")))),e.get("hashtags").size>B&&e.get("hashtags").size%B==1&&Object(s.a)(P.a,{visible:!0,onClick:n}))),e.get("statuses")&&e.get("statuses").size>0&&(l=Object(s.a)(T.a,{title:Object(q.jsxs)(q.Fragment,{children:[Object(s.a)(M.a,{id:"quote-right",icon:I.a}),Object(s.a)(z.a,{id:"search_results.statuses",defaultMessage:"Posts"})]})},void 0,D(e.get("statuses")).map((e=>Object(s.a)(W.a,{id:e},e))),e.get("statuses").size>B&&e.get("statuses").size%B==1&&Object(s.a)(P.a,{visible:!0,onClick:c}))),Object(s.a)("div",{className:"search-results"},void 0,!r&&!d&&!l&&(a?Object(s.a)(S.a,{}):Object(s.a)("div",{className:"empty-column-indicator"},void 0,Object(s.a)(z.a,{id:"search_results.nothing_found",defaultMessage:"Could not find anything for these search terms"}))),r,d,l)};var E=t(1697),G=t(1838);const R=Object(c.d)({start:{id:"getting_started.heading",defaultMessage:"Getting started"},home_timeline:{id:"tabs_bar.home",defaultMessage:"Home"},notifications:{id:"tabs_bar.notifications",defaultMessage:"Notifications"},public:{id:"navigation_bar.public_timeline",defaultMessage:"Federated timeline"},community:{id:"navigation_bar.community_timeline",defaultMessage:"Local timeline"},preferences:{id:"navigation_bar.preferences",defaultMessage:"Preferences"},logout:{id:"navigation_bar.logout",defaultMessage:"Logout"},compose:{id:"navigation_bar.compose",defaultMessage:"Compose new post"},logoutMessage:{id:"confirmations.logout.message",defaultMessage:"Are you sure you want to log out?"},logoutConfirm:{id:"confirmations.logout.confirm",defaultMessage:"Log out"}});class X extends o.PureComponent{constructor(){super(...arguments),Object(i.a)(this,"handleLogoutClick",(e=>{const{dispatch:a,intl:t}=this.props;return e.preventDefault(),e.stopPropagation(),a(Object(_.b)({modalType:"CONFIRM",modalProps:{message:t.formatMessage(R.logoutMessage),confirm:t.formatMessage(R.logoutConfirm),closeWhenConfirm:!1,onConfirm:()=>Object(w.a)()}})),!1})),Object(i.a)(this,"onFocus",(()=>{this.props.dispatch(Object(N.cb)(!0))})),Object(i.a)(this,"onBlur",(()=>{this.props.dispatch(Object(N.cb)(!1))}))}componentDidMount(){const{dispatch:e}=this.props;e(Object(N.qb)())}componentWillUnmount(){const{dispatch:e}=this.props;e(Object(N.Ab)())}render(){const{multiColumn:e,showSearch:a,intl:t}=this.props;if(e){const{columns:i}=this.props;return Object(s.a)("div",{className:"drawer",role:"region","aria-label":t.formatMessage(R.compose)},void 0,Object(s.a)("nav",{className:"drawer__header"},void 0,Object(s.a)(l.a,{to:"/getting-started",className:"drawer__tab",title:t.formatMessage(R.start),"aria-label":t.formatMessage(R.start)},void 0,Object(s.a)(M.a,{id:"bars",icon:h.a})),!i.some((e=>"HOME"===e.get("id")))&&Object(s.a)(l.a,{to:"/home",className:"drawer__tab",title:t.formatMessage(R.home_timeline),"aria-label":t.formatMessage(R.home_timeline)},void 0,Object(s.a)(M.a,{id:"home",icon:m.a})),!i.some((e=>"NOTIFICATIONS"===e.get("id")))&&Object(s.a)(l.a,{to:"/notifications",className:"drawer__tab",title:t.formatMessage(R.notifications),"aria-label":t.formatMessage(R.notifications)},void 0,Object(s.a)(M.a,{id:"bell",icon:j.a})),!i.some((e=>"COMMUNITY"===e.get("id")))&&Object(s.a)(l.a,{to:"/public/local",className:"drawer__tab",title:t.formatMessage(R.community),"aria-label":t.formatMessage(R.community)},void 0,Object(s.a)(M.a,{id:"users",icon:u.a})),!i.some((e=>"PUBLIC"===e.get("id")))&&Object(s.a)(l.a,{to:"/public",className:"drawer__tab",title:t.formatMessage(R.public),"aria-label":t.formatMessage(R.public)},void 0,Object(s.a)(M.a,{id:"globe",icon:f.a})),Object(s.a)("a",{href:"/settings/preferences",className:"drawer__tab",title:t.formatMessage(R.preferences),"aria-label":t.formatMessage(R.preferences)},void 0,Object(s.a)(M.a,{id:"cog",icon:p.a})),Object(s.a)("a",{href:"/auth/sign_out",className:"drawer__tab",title:t.formatMessage(R.logout),"aria-label":t.formatMessage(R.logout),onClick:this.handleLogoutClick},void 0,Object(s.a)(M.a,{id:"sign-out",icon:O.a}))),e&&Object(s.a)(G.a,{}),Object(s.a)("div",{className:"drawer__pager"},void 0,Object(s.a)("div",{className:"drawer__inner",onFocus:this.onFocus},void 0,Object(s.a)(E.a,{autoFocus:!Object(y.a)(window.innerWidth)}),Object(s.a)("div",{className:"drawer__inner__mastodon"},void 0,Object(s.a)("img",{alt:"",draggable:"false",src:k.p||C.default}))),Object(s.a)(F.a,{defaultStyle:{x:-100},style:{x:g()(a?0:-100,{stiffness:210,damping:20})}},void 0,(e=>{let{x:a}=e;return Object(s.a)("div",{className:"drawer__inner darker",style:{transform:"translateX(".concat(a,"%)"),visibility:-100===a?"hidden":"visible"}},void 0,Object(s.a)(J,{}))}))))}return Object(s.a)(v.a,{onFocus:this.onFocus},void 0,Object(s.a)(E.a,{}),Object(s.a)(r.a,{},void 0,Object(s.a)("meta",{name:"robots",content:"noindex"})))}}a.default=Object(d.connect)(((e,a)=>({columns:e.getIn(["settings","columns"]),showSearch:!!a.multiColumn&&(e.getIn(["search","submitted"])&&!e.getIn(["search","hidden"]))})))(Object(n.c)(X))}}]);
//# sourceMappingURL=compose.js.map