(window.webpackJsonp=window.webpackJsonp||[]).push([[485],{1966:function(e,t,o){"use strict";o.r(t),o.d(t,"NotificationRequest",(function(){return k}));var c=o(0),n=o(1),i=o(8),s=o(72),a=o(201),l=o(10),u=o(1291),r=o(1745),b=o(1622),d=o(64),f=o(556),j=o(1231),m=o(77),O=o(1511),g=o(1708),p=o(1934),C=o(6);const h=Object(i.d)({title:{id:"notification_requests.notifications_from",defaultMessage:"Notifications from {name}"},accept:{id:"notification_requests.accept",defaultMessage:"Accept"},dismiss:{id:"notification_requests.dismiss",defaultMessage:"Dismiss"}}),v=(e,t,o)=>{const c=e.current.node,n=c.querySelector("article:nth-of-type(".concat(t+1,") .focusable"));n&&(o&&c.scrollTop>n.offsetTop?n.scrollIntoView(!0):!o&&c.scrollTop+c.clientHeight<n.offsetTop+n.offsetHeight&&n.scrollIntoView(!1),n.focus())},k=e=>{let{multiColumn:t,params:{id:o}}=e;const i=Object(n.useRef)(),k=Object(s.a)(),q=Object(l.useDispatch)(),I=Object(l.useSelector)((e=>e.getIn(["notificationRequests","current","item","id"])===o?e.getIn(["notificationRequests","current","item"]):null)),w=null==I?void 0:I.get("account"),M=Object(l.useSelector)((e=>e.getIn(["accounts",w]))),_=Object(l.useSelector)((e=>e.getIn(["notificationRequests","current","notifications","items"]))),R=Object(l.useSelector)((e=>e.getIn(["notificationRequests","current","notifications","isLoading"]))),S=Object(l.useSelector)((e=>!!e.getIn(["notificationRequests","current","notifications","next"]))),x=Object(l.useSelector)((e=>e.getIn(["notificationRequests","current","removed"]))),D=Object(n.useCallback)((()=>{var e;null===(e=i.current)||void 0===e||e.scrollTop()}),[i]),T=Object(n.useCallback)((()=>{q(Object(d.G)())}),[q]),y=Object(n.useCallback)((()=>{q(Object(d.D)(o))}),[q,o]),B=Object(n.useCallback)((()=>{q(Object(d.C)(o))}),[q,o]),L=Object(n.useCallback)((e=>{const t=_.findIndex((t=>null!==t&&t.get("id")===e))-1;v(i,t,!0)}),[i,_]),N=Object(n.useCallback)((e=>{const t=_.findIndex((t=>null!==t&&t.get("id")===e))+1;v(i,t,!1)}),[i,_]);Object(n.useEffect)((()=>{q(Object(d.H)(o))}),[q,o]),Object(n.useEffect)((()=>{w&&q(Object(d.J)(w))}),[q,w]);const H=k.formatMessage(h.title,{name:(null==M?void 0:M.get("display_name"))||(null==M?void 0:M.get("username"))});return Object(C.jsxs)(f.a,{bindToDocument:!t,ref:i,label:H,children:[Object(c.a)(j.b,{icon:"archive",iconComponent:b.a,title:H,onClick:D,multiColumn:t,showBackButton:!0,extraButton:!x&&Object(C.jsxs)(C.Fragment,{children:[Object(c.a)(m.a,{className:"column-header__button",iconComponent:u.a,onClick:y,title:k.formatMessage(h.dismiss)}),Object(c.a)(m.a,{className:"column-header__button",iconComponent:r.a,onClick:B,title:k.formatMessage(h.accept)})]})}),Object(c.a)(g.b,{hideMediaByDefault:!0},void 0,Object(c.a)(O.a,{scrollKey:"notification_requests/".concat(o),trackScroll:!t,bindToDocument:!t,isLoading:R,showLoading:R&&0===_.size,hasMore:S,onLoadMore:T},void 0,_.map((e=>e&&Object(c.a)(p.a,{notification:e,accountId:e.get("account"),onMoveUp:L,onMoveDown:N},e.get("id")))))),Object(c.a)(a.a,{},void 0,Object(c.a)("title",{},void 0,H),Object(c.a)("meta",{name:"robots",content:"noindex"}))]})};t.default=k}}]);
//# sourceMappingURL=request.js.map