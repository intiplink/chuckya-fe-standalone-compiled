(window.webpackJsonp=window.webpackJsonp||[]).push([[450],{1947:function(t,e,a){"use strict";a.r(e);var c=a(2),s=a(0),o=(a(13),a(4)),n=a.n(o),i=a(26),d=a(5),u=a(27),r=a.n(u),p=a(37),l=a(10),b=a(2125),g=a(1292),m=a(19),h=a(1317),I=a(252),O=a(40),j=a(1262),f=a(89),w=a(2108),y=a(454),M=a(1900),_=a(2103),L=a(2126),q=a(2123);const R=Object(d.List)(),k=t=>{let{url:e}=t;return Object(s.a)(b.a,{url:e,resource:Object(s.a)(i.a,{id:"timeline_hint.resources.statuses",defaultMessage:"Older posts"})})};class A extends p.a{constructor(){super(...arguments),Object(c.a)(this,"handleLoadMore",(t=>{this.props.dispatch(Object(f.s)(this.props.accountId,{maxId:t,withReplies:this.props.withReplies,tagged:this.props.params.tagged}))}))}_load(){const{accountId:t,withReplies:e,params:{tagged:a},dispatch:c}=this.props;c(Object(O.A)(t)),e||c(Object(f.q)(t,{tagged:a})),c(Object(j.d)(t)),c(Object(f.s)(t,{withReplies:e,tagged:a})),t===m.q&&c(Object(f.n)("account:".concat(m.q)))}componentDidMount(){const{params:{acct:t},accountId:e,dispatch:a}=this.props;e?this._load():a(Object(O.G)(t))}componentDidUpdate(t){const{params:{acct:e,tagged:a},accountId:c,withReplies:s,dispatch:o}=this.props;t.accountId!==c&&c?this._load():t.params.acct!==e?o(Object(O.G)(e)):t.params.tagged!==a&&(s||o(Object(f.q)(c,{tagged:a})),o(Object(f.s)(c,{withReplies:s,tagged:a}))),t.accountId===m.q&&c!==m.q&&o(Object(f.p)({timeline:"account:".concat(m.q)}))}componentWillUnmount(){const{dispatch:t,accountId:e}=this.props;e===m.q&&t(Object(f.p)({timeline:"account:".concat(m.q)}))}render(){const{accountId:t,statusIds:e,featuredStatusIds:a,isLoading:c,hasMore:o,blockedBy:n,suspended:d,isAccount:u,hidden:r,multiColumn:p,remote:l,remoteUrl:b}=this.props;if(c&&e.isEmpty())return Object(s.a)(_.a,{},void 0,Object(s.a)(y.a,{}));if(!c&&!u)return Object(s.a)(g.a,{multiColumn:p,errorType:"routing"});let m;const h=d||n||r;m=d?Object(s.a)(i.a,{id:"empty_column.account_suspended",defaultMessage:"Account suspended"}):r?Object(s.a)(L.a,{accountId:t}):n?Object(s.a)(i.a,{id:"empty_column.account_unavailable",defaultMessage:"Profile unavailable"}):l&&e.isEmpty()?Object(s.a)(k,{url:b}):Object(s.a)(i.a,{id:"empty_column.account_timeline",defaultMessage:"No posts found"});const I=l?Object(s.a)(k,{url:b}):null;return Object(s.a)(_.a,{},void 0,Object(s.a)(w.a,{}),Object(s.a)(M.a,{prepend:Object(s.a)(q.a,{accountId:this.props.accountId,hideTabs:h,tagged:this.props.params.tagged}),alwaysPrepend:!0,append:I,scrollKey:"account_timeline",statusIds:h?R:e,featuredStatusIds:a,isLoading:c,hasMore:!h&&o,onLoadMore:this.handleLoadMore,emptyMessage:m,bindToDocument:!p,timelineId:"account",withCounters:!0}))}}Object(c.a)(A,"propTypes",{params:n.a.shape({acct:n.a.string,id:n.a.string,tagged:n.a.string}).isRequired,accountId:n.a.string,dispatch:n.a.func.isRequired,statusIds:r.a.list,featuredStatusIds:r.a.list,isLoading:n.a.bool,hasMore:n.a.bool,withReplies:n.a.bool,blockedBy:n.a.bool,isAccount:n.a.bool,suspended:n.a.bool,hidden:n.a.bool,remote:n.a.bool,remoteUrl:n.a.string,multiColumn:n.a.bool}),e.default=Object(l.connect)(((t,e)=>{let{params:{acct:a,id:c,tagged:s},withReplies:o=!1}=e;const n=c||t.getIn(["accounts_map",Object(h.b)(a)]);if(null===n)return{isLoading:!1,isAccount:!1,statusIds:R};if(!n)return{isLoading:!0,statusIds:R};const i=o?"".concat(n,":with_replies"):"".concat(n).concat(s?":".concat(s):"");return{accountId:n,remote:!(t.getIn(["accounts",n,"acct"])===t.getIn(["accounts",n,"username"])),remoteUrl:t.getIn(["accounts",n,"url"]),isAccount:!!t.getIn(["accounts",n]),statusIds:t.getIn(["timelines","account:".concat(i),"items"],R),featuredStatusIds:o?Object(d.List)():t.getIn(["timelines","account:".concat(n,":pinned").concat(s?":".concat(s):""),"items"],R),isLoading:t.getIn(["timelines","account:".concat(i),"isLoading"]),hasMore:t.getIn(["timelines","account:".concat(i),"hasMore"]),suspended:t.getIn(["accounts",n,"suspended"],!1),hidden:Object(I.b)(t,n),blockedBy:t.getIn(["relationships",n,"blocked_by"],!1)}}))(A)}}]);
//# sourceMappingURL=account_timeline.js.map