(window.webpackJsonp=window.webpackJsonp||[]).push([[473],{1959:function(e,t,o){"use strict";o.r(t),o.d(t,"NotificationRequest",(function(){return k}));var c=o(0),n=o(1),i=o(8),s=o(71),a=o(247),l=o(10),u=o(1719),r=o(2071),b=o(2069),d=o(64),f=o(1291),j=o(1289),m=o(51),O=o(1865),g=o(1690),p=o(2125),h=o(6);const v=Object(i.d)({title:{id:"notification_requests.notifications_from",defaultMessage:"Notifications from {name}"},accept:{id:"notification_requests.accept",defaultMessage:"Accept"},dismiss:{id:"notification_requests.dismiss",defaultMessage:"Dismiss"}}),C=(e,t,o)=>{const c=e.current.node,n=c.querySelector("article:nth-of-type(".concat(t+1,") .focusable"));n&&(o&&c.scrollTop>n.offsetTop?n.scrollIntoView(!0):!o&&c.scrollTop+c.clientHeight<n.offsetTop+n.offsetHeight&&n.scrollIntoView(!1),n.focus())},k=e=>{let{multiColumn:t,params:{id:o}}=e;const i=Object(n.useRef)(),k=Object(s.a)(),q=Object(l.useDispatch)(),I=Object(l.useSelector)((e=>e.getIn(["notificationRequests","current","item","id"])===o?e.getIn(["notificationRequests","current","item"]):null)),w=null==I?void 0:I.get("account"),M=Object(l.useSelector)((e=>e.getIn(["accounts",w]))),_=Object(l.useSelector)((e=>e.getIn(["notificationRequests","current","notifications","items"]))),R=Object(l.useSelector)((e=>e.getIn(["notificationRequests","current","notifications","isLoading"]))),S=Object(l.useSelector)((e=>!!e.getIn(["notificationRequests","current","notifications","next"]))),x=Object(l.useSelector)((e=>e.getIn(["notificationRequests","current","removed"]))),T=Object(n.useCallback)((()=>{var e;null===(e=i.current)||void 0===e||e.scrollTop()}),[i]),D=Object(n.useCallback)((()=>{q(Object(d.R)())}),[q]),y=Object(n.useCallback)((()=>{q(Object(d.N)(o))}),[q,o]),N=Object(n.useCallback)((()=>{q(Object(d.K)(o))}),[q,o]),B=Object(n.useCallback)((e=>{const t=_.findIndex((t=>null!==t&&t.get("id")===e))-1;C(i,t,!0)}),[i,_]),L=Object(n.useCallback)((e=>{const t=_.findIndex((t=>null!==t&&t.get("id")===e))+1;C(i,t,!1)}),[i,_]);Object(n.useEffect)((()=>{q(Object(d.S)(o))}),[q,o]),Object(n.useEffect)((()=>{w&&q(Object(d.U)(w))}),[q,w]);const E=k.formatMessage(v.title,{name:(null==M?void 0:M.get("display_name"))||(null==M?void 0:M.get("username"))});return Object(h.jsxs)(f.a,{bindToDocument:!t,ref:i,label:E,children:[Object(c.a)(j.b,{icon:"archive",iconComponent:r.a,title:E,onClick:T,multiColumn:t,showBackButton:!0,extraButton:!x&&Object(h.jsxs)(h.Fragment,{children:[Object(c.a)(m.a,{className:"column-header__button",iconComponent:b.a,onClick:y,title:k.formatMessage(v.dismiss)}),Object(c.a)(m.a,{className:"column-header__button",iconComponent:u.a,onClick:N,title:k.formatMessage(v.accept)})]})}),Object(c.a)(g.b,{hideMediaByDefault:!0},void 0,Object(c.a)(O.a,{scrollKey:"notification_requests/".concat(o),trackScroll:!t,bindToDocument:!t,isLoading:R,showLoading:R&&0===_.size,hasMore:S,onLoadMore:D},void 0,_.map((e=>e&&Object(c.a)(p.a,{notification:e,accountId:e.get("account"),onMoveUp:B,onMoveDown:L},e.get("id")))))),Object(c.a)(a.a,{},void 0,Object(c.a)("title",{},void 0,E),Object(c.a)("meta",{name:"robots",content:"noindex"}))]})};t.default=k}}]);
//# sourceMappingURL=request.js.map