(window.webpackJsonp=window.webpackJsonp||[]).push([[480],{1983:function(e,t,a){"use strict";a.r(t);var s=a(0),c=a(2),n=a(4),i=a.n(n),o=a(54),d=a(24),l=a.n(d),r=a(37),u=a(10),b=a(127),p=a.n(b),h=a(92),m=a(392),j=a(8),O=a(530),v=a(83),g=a(193),C=a(232),f=a(75),_=a(243);const I=Object(j.d)({remove:{id:"lists.account.remove",defaultMessage:"Remove from list"},add:{id:"lists.account.add",defaultMessage:"Add to list"}});class R extends r.a{render(){const{account:e,intl:t,onRemove:a,onAdd:c,added:n}=this.props;let i;return i=n?Object(s.a)(f.a,{icon:"times",iconComponent:v.a,title:t.formatMessage(I.remove),onClick:a}):Object(s.a)(f.a,{icon:"plus",iconComponent:O.a,title:t.formatMessage(I.add),onClick:c}),Object(s.a)("div",{className:"account"},void 0,Object(s.a)("div",{className:"account__wrapper"},void 0,Object(s.a)("div",{className:"account__display-name"},void 0,Object(s.a)("div",{className:"account__avatar-wrapper"},void 0,Object(s.a)(g.a,{account:e,size:36})),Object(s.a)(C.a,{account:e})),Object(s.a)("div",{className:"account__relationship"},void 0,i)))}}Object(c.a)(R,"propTypes",{account:l.a.record.isRequired,intl:i.a.object.isRequired,onRemove:i.a.func.isRequired,onAdd:i.a.func.isRequired,added:i.a.bool}),Object(c.a)(R,"defaultProps",{added:!1});var N=Object(u.connect)((()=>{const e=Object(_.e)();return(t,a)=>{let{accountId:s,added:c}=a;return{account:e(t,s),added:void 0===c?t.getIn(["listEditor","accounts","items"]).includes(s):c}}}),((e,t)=>{let{accountId:a}=t;return{onRemove:()=>e(Object(h.K)(a)),onAdd:()=>e(Object(h.B)(a))}}))(Object(o.c)(R)),y=(a(14),a(1)),k=a(195);const w=Object(j.d)({title:{id:"lists.edit.submit",defaultMessage:"Change title"}});class q extends y.PureComponent{constructor(){super(...arguments),Object(c.a)(this,"handleChange",(e=>{this.props.onChange(e.target.value)})),Object(c.a)(this,"handleSubmit",(e=>{e.preventDefault(),this.props.onSubmit()})),Object(c.a)(this,"handleClick",(()=>{this.props.onSubmit()}))}render(){const{value:e,disabled:t,intl:a}=this.props,c=a.formatMessage(w.title);return Object(s.a)("form",{className:"column-inline-form",onSubmit:this.handleSubmit},void 0,Object(s.a)("input",{className:"setting-text",value:e,onChange:this.handleChange}),Object(s.a)(f.a,{disabled:t,icon:"check",iconComponent:k.a,title:c,onClick:this.handleClick}))}}var M=Object(u.connect)((e=>({value:e.getIn(["listEditor","title"]),disabled:!e.getIn(["listEditor","isChanged"])||!e.getIn(["listEditor","title"])})),(e=>({onChange:t=>e(Object(h.C)(t)),onSubmit:()=>e(Object(h.P)(!1))})))(Object(o.c)(q)),x=a(9),S=a.n(x),E=a(1896),A=a(273),z=a(36);const K=Object(j.d)({search:{id:"lists.search",defaultMessage:"Search among people you follow"}});class P extends y.PureComponent{constructor(){super(...arguments),Object(c.a)(this,"handleChange",(e=>{this.props.onChange(e.target.value)})),Object(c.a)(this,"handleKeyUp",(e=>{13===e.keyCode&&this.props.onSubmit(this.props.value)})),Object(c.a)(this,"handleClear",(()=>{this.props.onClear()}))}render(){const{value:e,intl:t}=this.props,a=e.length>0;return Object(s.a)("div",{className:"list-editor__search search"},void 0,Object(s.a)("label",{},void 0,Object(s.a)("span",{style:{display:"none"}},void 0,t.formatMessage(K.search)),Object(s.a)("input",{className:"search__input",type:"text",value:e,onChange:this.handleChange,onKeyUp:this.handleKeyUp,placeholder:t.formatMessage(K.search)})),Object(s.a)("div",{role:"button",tabIndex:0,className:"search__icon",onClick:this.handleClear},void 0,Object(s.a)(z.a,{id:"search",icon:A.a,className:S()({active:!a})}),Object(s.a)(z.a,{id:"times-circle",icon:E.a,"aria-label":t.formatMessage(K.search),className:S()({active:a})})))}}var U=Object(u.connect)((e=>({value:e.getIn(["listEditor","suggestions","value"])})),(e=>({onSubmit:t=>e(Object(h.H)(t)),onClear:()=>e(Object(h.E)()),onChange:t=>e(Object(h.D)(t))})))(Object(o.c)(P));class D extends r.a{componentDidMount(){const{onInitialize:e,listId:t}=this.props;e(t)}componentWillUnmount(){const{onReset:e}=this.props;e()}render(){const{accountIds:e,searchAccountIds:t,onClear:a}=this.props,c=t.size>0;return Object(s.a)("div",{className:"modal-root__modal list-editor"},void 0,Object(s.a)(M,{}),Object(s.a)(U,{}),Object(s.a)("div",{className:"drawer__pager"},void 0,Object(s.a)("div",{className:"drawer__inner list-editor__accounts"},void 0,e.map((e=>Object(s.a)(N,{accountId:e,added:!0},e)))),c&&Object(s.a)("div",{role:"button",tabIndex:-1,className:"drawer__backdrop",onClick:a}),Object(s.a)(m.a,{defaultStyle:{x:-100},style:{x:p()(c?0:-100,{stiffness:210,damping:20})}},void 0,(e=>{let{x:a}=e;return Object(s.a)("div",{className:"drawer__inner backdrop",style:{transform:0===a?null:"translateX(".concat(a,"%)"),visibility:-100===a?"hidden":"visible"}},void 0,t.map((e=>Object(s.a)(N,{accountId:e},e))))}))))}}Object(c.a)(D,"propTypes",{listId:i.a.string.isRequired,onClose:i.a.func.isRequired,intl:i.a.object.isRequired,onInitialize:i.a.func.isRequired,onClear:i.a.func.isRequired,onReset:i.a.func.isRequired,accountIds:l.a.list.isRequired,searchAccountIds:l.a.list.isRequired});t.default=Object(u.connect)((e=>({accountIds:e.getIn(["listEditor","accounts","items"]),searchAccountIds:e.getIn(["listEditor","suggestions","items"])})),(e=>({onInitialize:t=>e(Object(h.O)(t)),onClear:()=>e(Object(h.E)()),onReset:()=>e(Object(h.M)())})))(Object(o.c)(D))}}]);
//# sourceMappingURL=list_editor.js.map