(window.webpackJsonp=window.webpackJsonp||[]).push([[515],{1984:function(e,t,o){"use strict";o.r(t);var s=o(2),a=o(0),c=o(96),n=o.n(c),i=(o(13),o(4)),d=o.n(i),l=o(26),u=o(27),r=o.n(u),p=o(37),h=o(10),b=o(2130),m=o(1293),g=o(1318),j=o(240),O=o(36),I=o(455),f=o(1512),w=o(1514),M=o(2119),_=o(2131),y=o(2122),C=o(2102),L=o(6);const T=e=>{let{url:t}=e;return Object(a.a)(b.a,{url:t,resource:Object(a.a)(l.a,{id:"timeline_hint.resources.follows",defaultMessage:"Follows"})})};class k extends p.a{constructor(){super(...arguments),Object(s.a)(this,"handleLoadMore",n()((()=>{this.props.dispatch(Object(O.I)(this.props.accountId))}),300,{leading:!0})),Object(s.a)(this,"setRef",(e=>{this.column=e})),Object(s.a)(this,"handleHeaderClick",(()=>{this.column.scrollTop()}))}_load(){const{accountId:e,isAccount:t,dispatch:o}=this.props;t||o(Object(O.J)(e)),o(Object(O.M)(e))}componentDidMount(){const{params:{acct:e},accountId:t,dispatch:o}=this.props;t?this._load():o(Object(O.R)(e))}componentDidUpdate(e){const{params:{acct:t},accountId:o,dispatch:s}=this.props;e.accountId!==o&&o?this._load():e.params.acct!==t&&s(Object(O.R)(t))}render(){const{accountId:e,accountIds:t,hasMore:o,isAccount:s,multiColumn:c,isLoading:n,suspended:i,hidden:d,remote:u,remoteUrl:r,hideCollections:p}=this.props;if(!s)return Object(a.a)(m.a,{multiColumn:c,errorType:"routing"});if(!t)return Object(a.a)(C.a,{},void 0,Object(a.a)(I.a,{}));let h;const b=i||d;h=i?Object(a.a)(l.a,{id:"empty_column.account_suspended",defaultMessage:"Account suspended"}):d?Object(a.a)(_.a,{accountId:e}):p&&t.isEmpty()?Object(a.a)(l.a,{id:"empty_column.account_hides_collections",defaultMessage:"This user has chosen to not make this information available"}):u&&t.isEmpty()?Object(a.a)(T,{url:r}):Object(a.a)(l.a,{id:"account.follows.empty",defaultMessage:"This user doesn't follow anyone yet."});const g=u?Object(a.a)(T,{url:r}):null;return Object(L.jsxs)(C.a,{ref:this.setRef,children:[Object(a.a)(M.a,{onClick:this.handleHeaderClick,multiColumn:c}),Object(a.a)(f.a,{scrollKey:"following",hasMore:!b&&o,isLoading:n,onLoadMore:this.handleLoadMore,prepend:Object(a.a)(y.a,{accountId:this.props.accountId,hideTabs:!0}),alwaysPrepend:!0,append:g,emptyMessage:h,bindToDocument:!c},void 0,t.map((e=>Object(a.a)(w.a,{id:e,withNote:!1},e))))]})}}Object(s.a)(k,"propTypes",{params:d.a.shape({acct:d.a.string,id:d.a.string}).isRequired,accountId:d.a.string,dispatch:d.a.func.isRequired,accountIds:r.a.list,hasMore:d.a.bool,isLoading:d.a.bool,isAccount:d.a.bool,suspended:d.a.bool,hidden:d.a.bool,remote:d.a.bool,remoteUrl:d.a.string,multiColumn:d.a.bool}),t.default=Object(h.connect)(((e,t)=>{let{params:{acct:o,id:s}}=t;const a=s||e.getIn(["accounts_map",Object(g.b)(o)]);return a?{accountId:a,remote:!(e.getIn(["accounts",a,"acct"])===e.getIn(["accounts",a,"username"])),remoteUrl:e.getIn(["accounts",a,"url"]),isAccount:!!e.getIn(["accounts",a]),accountIds:e.getIn(["user_lists","following",a,"items"]),hasMore:!!e.getIn(["user_lists","following",a,"next"]),isLoading:e.getIn(["user_lists","following",a,"isLoading"],!0),suspended:e.getIn(["accounts",a,"suspended"],!1),hideCollections:e.getIn(["accounts",a,"hide_collections"],!1),hidden:Object(j.b)(e,a)}:{isLoading:!0}}))(k)}}]);
//# sourceMappingURL=following.js.map