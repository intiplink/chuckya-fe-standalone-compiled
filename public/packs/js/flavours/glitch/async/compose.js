(window.webpackJsonp=window.webpackJsonp||[]).push([[502],{1902:function(e,t,a){"use strict";a.r(t),t.default=a.p+"media/flavours/glitch/images/mbstobon-ui-0-07a1d75b024f0b0aed7127e1c1b20fc2.png"},1903:function(e,t,a){"use strict";a.r(t),t.default=a.p+"media/flavours/glitch/images/mbstobon-ui-1-c3aa4ba2dca2c406fa32e9ebee0d362b.png"},1904:function(e,t,a){"use strict";a.r(t),t.default=a.p+"media/flavours/glitch/images/mbstobon-ui-2-6c5e94fac80476dbc6271425c55582aa.png"},2031:function(e,t,a){"use strict";a.r(t);var s,i=a(0),c=a(2),o=(a(13),a(1)),n=a(8),l=a(58),r=a(201),d=a(38),b=a(10),g=a(135),u=a.n(g),m=a(1744),h=a(364),O=a(2132);function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},f.apply(null,arguments)}var j=function(e){let{title:t,titleId:a,...i}=e;return o.createElement("svg",f({xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 -960 960 960",width:24,"aria-labelledby":a},i),t?o.createElement("title",{id:a},t):null,s||(s=o.createElement("path",{d:"m234-480-12-60q-12-5-22.5-10.5T178-564l-58 18-40-68 46-40q-2-13-2-26t2-26l-46-40 40-68 58 18q11-8 21.5-13.5T222-820l12-60h80l12 60q12 5 22.5 10.5T370-796l58-18 40 68-46 40q2 13 2 26t-2 26l46 40-40 68-58-18q-11 8-21.5 13.5T326-540l-12 60h-80Zm40-120q33 0 56.5-23.5T354-680q0-33-23.5-56.5T274-760q-33 0-56.5 23.5T194-680q0 33 23.5 56.5T274-600ZM592-40l-18-84q-17-6-31.5-14.5T514-158l-80 26-56-96 64-56q-2-18-2-36t2-36l-64-56 56-96 80 26q14-11 28.5-19.5T574-516l18-84h112l18 84q17 6 31.5 14.5T782-482l80-26 56 96-64 56q2 18 2 36t-2 36l64 56-56 96-80-26q-14 11-28.5 19.5T722-124l-18 84H592Zm56-160q50 0 85-35t35-85q0-50-35-85t-85-35q-50 0-85 35t-35 85q0 50 35 85t85 35Z"})))},p=a(2115),v=a(514),_=a(294),M=a(51),w=a(557),N=a(23),C=a(1902),q=a(1903),T=a(1904),k=a(559),y=a(22),I=a(12),z=a(350),F=a(423),x=a(26),L=a(2116),S=a(2104),P=a(179),E=a(1908),B=a(455),H=a(2150),U=a(45),Z=a(1637),D=a(1514),G=a(548),A=a(6);const J=10,W=e=>e.size>J&&e.size%J==1?e.skipLast(1):e,R=()=>{const e=Object(U.d)((e=>e.getIn(["search","results"]))),t=Object(U.d)((e=>e.getIn(["search","isLoading"]))),a=Object(U.c)(),s=Object(o.useCallback)((()=>{a(Object(P.n)("accounts"))}),[a]),c=Object(o.useCallback)((()=>{a(Object(P.n)("statuses"))}),[a]),n=Object(o.useCallback)((()=>{a(Object(P.n)("hashtags"))}),[a]);let l,r,d;return e.get("accounts")&&e.get("accounts").size>0&&(l=Object(i.a)(H.a,{title:Object(A.jsxs)(A.Fragment,{children:[Object(i.a)(N.a,{id:"users",icon:m.a}),Object(i.a)(x.a,{id:"search_results.accounts",defaultMessage:"Profiles"})]})},void 0,W(e.get("accounts")).map((e=>Object(i.a)(D.a,{id:e},e))),e.get("accounts").size>J&&e.get("accounts").size%J==1&&Object(i.a)(E.a,{visible:!0,onClick:s}))),e.get("hashtags")&&e.get("hashtags").size>0&&(d=Object(i.a)(H.a,{title:Object(A.jsxs)(A.Fragment,{children:[Object(i.a)(N.a,{id:"hashtag",icon:S.a}),Object(i.a)(x.a,{id:"search_results.hashtags",defaultMessage:"Hashtags"})]})},void 0,W(e.get("hashtags")).map((e=>Object(i.a)(Z.b,{hashtag:e},e.get("name")))),e.get("hashtags").size>J&&e.get("hashtags").size%J==1&&Object(i.a)(E.a,{visible:!0,onClick:n}))),e.get("statuses")&&e.get("statuses").size>0&&(r=Object(i.a)(H.a,{title:Object(A.jsxs)(A.Fragment,{children:[Object(i.a)(N.a,{id:"quote-right",icon:L.a}),Object(i.a)(x.a,{id:"search_results.statuses",defaultMessage:"Posts"})]})},void 0,W(e.get("statuses")).map((e=>Object(i.a)(G.a,{id:e},e))),e.get("statuses").size>J&&e.get("statuses").size%J==1&&Object(i.a)(E.a,{visible:!0,onClick:c}))),Object(i.a)("div",{className:"search-results"},void 0,!l&&!d&&!r&&(t?Object(i.a)(B.a,{}):Object(i.a)("div",{className:"empty-column-indicator"},void 0,Object(i.a)(x.a,{id:"search_results.nothing_found",defaultMessage:"Could not find anything for these search terms"}))),l,d,r)};var X=a(1721),Y=a(1875);const K=Object(n.d)({start:{id:"getting_started.heading",defaultMessage:"Getting started"},home_timeline:{id:"tabs_bar.home",defaultMessage:"Home"},notifications:{id:"tabs_bar.notifications",defaultMessage:"Notifications"},public:{id:"navigation_bar.public_timeline",defaultMessage:"Federated timeline"},community:{id:"navigation_bar.community_timeline",defaultMessage:"Local timeline"},settings:{id:"navigation_bar.app_settings",defaultMessage:"App settings"},logout:{id:"navigation_bar.logout",defaultMessage:"Logout"},compose:{id:"navigation_bar.compose",defaultMessage:"Compose new post"}});class Q extends o.PureComponent{constructor(){super(...arguments),Object(c.a)(this,"state",{elefriend:Math.random()<.9579784472?Math.floor(3*Math.random()):3}),Object(c.a)(this,"handleLogoutClick",(e=>{const{dispatch:t}=this.props;return e.preventDefault(),e.stopPropagation(),t(Object(M.b)({modalType:"CONFIRM_LOG_OUT"})),!1})),Object(c.a)(this,"handleSettingsClick",(e=>{const{dispatch:t}=this.props;e.preventDefault(),e.stopPropagation(),t(Object(M.b)({modalType:"SETTINGS",modalProps:{}}))})),Object(c.a)(this,"onFocus",(()=>{this.props.dispatch(Object(y.jb)(!0))})),Object(c.a)(this,"onBlur",(()=>{this.props.dispatch(Object(y.jb)(!1))})),Object(c.a)(this,"cycleElefriend",(()=>{this.setState((e=>({elefriend:(e.elefriend+1)%3})))}))}componentDidMount(){const{dispatch:e}=this.props;e(Object(y.zb)())}componentWillUnmount(){const{dispatch:e}=this.props;e(Object(y.Lb)())}render(){const{multiColumn:e,showSearch:t,showNotificationsBadge:a,unreadNotifications:s,intl:c}=this.props,o=[C.default,q.default,T.default,k.default][this.state.elefriend];if(e){const{columns:n}=this.props;return Object(i.a)("div",{className:"drawer",role:"region","aria-label":c.formatMessage(K.compose)},void 0,Object(i.a)("nav",{className:"drawer__header"},void 0,Object(i.a)(d.a,{to:"/getting-started",className:"drawer__tab",title:c.formatMessage(K.start),"aria-label":c.formatMessage(K.start)},void 0,Object(i.a)(N.a,{id:"bars",icon:p.a})),!n.some((e=>"HOME"===e.get("id")))&&Object(i.a)(d.a,{to:"/home",className:"drawer__tab",title:c.formatMessage(K.home_timeline),"aria-label":c.formatMessage(K.home_timeline)},void 0,Object(i.a)(N.a,{id:"home",icon:h.a})),!n.some((e=>"NOTIFICATIONS"===e.get("id")))&&Object(i.a)(d.a,{to:"/notifications",className:"drawer__tab",title:c.formatMessage(K.notifications),"aria-label":c.formatMessage(K.notifications)},void 0,Object(i.a)("span",{className:"icon-badge-wrapper"},void 0,Object(i.a)(N.a,{id:"bell",icon:v.a}),a&&s>0&&Object(i.a)("div",{className:"icon-badge"}))),!n.some((e=>"COMMUNITY"===e.get("id")))&&Object(i.a)(d.a,{to:"/public/local",className:"drawer__tab",title:c.formatMessage(K.community),"aria-label":c.formatMessage(K.community)},void 0,Object(i.a)(N.a,{id:"users",icon:m.a})),!n.some((e=>"PUBLIC"===e.get("id")))&&Object(i.a)(d.a,{to:"/public",className:"drawer__tab",title:c.formatMessage(K.public),"aria-label":c.formatMessage(K.public)},void 0,Object(i.a)(N.a,{id:"globe",icon:_.a})),Object(i.a)("a",{onClick:this.handleSettingsClick,href:"/settings/preferences",className:"drawer__tab",title:c.formatMessage(K.settings),"aria-label":c.formatMessage(K.settings)},void 0,Object(i.a)(N.a,{id:"cogs",icon:j})),Object(i.a)("a",{href:"/auth/sign_out",className:"drawer__tab",title:c.formatMessage(K.logout),"aria-label":c.formatMessage(K.logout),onClick:this.handleLogoutClick},void 0,Object(i.a)(N.a,{id:"sign-out",icon:O.a}))),e&&Object(i.a)(Y.a,{}),Object(i.a)("div",{className:"drawer__pager"},void 0,Object(i.a)("div",{className:"drawer__inner",onFocus:this.onFocus},void 0,Object(i.a)(X.a,{autoFocus:!Object(z.a)(window.innerWidth)}),Object(i.a)("div",{className:"drawer__inner__mastodon",onClick:this.cycleElefriend},void 0,Object(i.a)("img",{alt:"",draggable:"false",src:I.r||o}))),Object(i.a)(F.a,{defaultStyle:{x:-100},style:{x:u()(t?0:-100,{stiffness:210,damping:20})}},void 0,(e=>{let{x:t}=e;return Object(i.a)("div",{className:"drawer__inner darker",style:{transform:"translateX(".concat(t,"%)"),visibility:-100===t?"hidden":"visible"}},void 0,Object(i.a)(R,{}))}))))}return Object(i.a)(w.a,{onFocus:this.onFocus},void 0,Object(i.a)(X.a,{}),Object(i.a)(r.a,{},void 0,Object(i.a)("meta",{name:"robots",content:"noindex"})))}}t.default=Object(b.connect)(((e,t)=>({columns:e.getIn(["settings","columns"]),showSearch:!!t.multiColumn&&(e.getIn(["search","submitted"])&&!e.getIn(["search","hidden"])),unreadNotifications:e.getIn(["notifications","unread"]),showNotificationsBadge:e.getIn(["local_settings","notifications","tab_badge"])})))(Object(l.c)(Q))}}]);
//# sourceMappingURL=compose.js.map