(window.webpackJsonp=window.webpackJsonp||[]).push([[502],{1868:function(e,t,a){"use strict";a.r(t),t.default=a.p+"media/flavours/glitch/images/mbstobon-ui-0-07a1d75b024f0b0aed7127e1c1b20fc2.png"},1869:function(e,t,a){"use strict";a.r(t),t.default=a.p+"media/flavours/glitch/images/mbstobon-ui-1-c3aa4ba2dca2c406fa32e9ebee0d362b.png"},1870:function(e,t,a){"use strict";a.r(t),t.default=a.p+"media/flavours/glitch/images/mbstobon-ui-2-6c5e94fac80476dbc6271425c55582aa.png"},1992:function(e,t,a){"use strict";a.r(t);var s,i=a(0),o=a(2),c=(a(14),a(1)),n=a(8),l=a(54),r=a(247),d=a(40),b=a(10),g=a(127),u=a.n(g),m=a(1717),h=a(529),f=a(2097);function O(){return O=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},O.apply(null,arguments)}var j=function(e){let{title:t,titleId:a,...i}=e;return c.createElement("svg",O({xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 -960 960 960",width:24,"aria-labelledby":a},i),t?c.createElement("title",{id:a},t):null,s||(s=c.createElement("path",{d:"m234-480-12-60q-12-5-22.5-10.5T178-564l-58 18-40-68 46-40q-2-13-2-26t2-26l-46-40 40-68 58 18q11-8 21.5-13.5T222-820l12-60h80l12 60q12 5 22.5 10.5T370-796l58-18 40 68-46 40q2 13 2 26t-2 26l46 40-40 68-58-18q-11 8-21.5 13.5T326-540l-12 60h-80Zm40-120q33 0 56.5-23.5T354-680q0-33-23.5-56.5T274-760q-33 0-56.5 23.5T194-680q0 33 23.5 56.5T274-600ZM592-40l-18-84q-17-6-31.5-14.5T514-158l-80 26-56-96 64-56q-2-18-2-36t2-36l-64-56 56-96 80 26q14-11 28.5-19.5T574-516l18-84h112l18 84q17 6 31.5 14.5T782-482l80-26 56 96-64 56q2 18 2 36t-2 36l64 56-56 96-80-26q-14 11-28.5 19.5T722-124l-18 84H592Zm56-160q50 0 85-35t35-85q0-50-35-85t-85-35q-50 0-85 35t-35 85q0 50 35 85t85 35Z"})))},p=a(2078),v=a(1498),_=a(282),M=a(49),w=a(1291),N=a(31),C=a(1868),q=a(1869),y=a(1870),T=a(1186),k=a(538),I=a(22),F=a(12),z=a(333),x=a(393),P=a(26),S=a(2079),L=a(2064),E=a(169),B=a(1874),H=a(429),Z=a(2117),A=a(88),D=a(1612),J=a(1494),U=a(1190),W=a(6);const G=10,R=e=>e.size>G&&e.size%G==1?e.skipLast(1):e,X=()=>{const e=Object(A.c)((e=>e.getIn(["search","results"]))),t=Object(A.c)((e=>e.getIn(["search","isLoading"]))),a=Object(A.b)(),s=Object(c.useCallback)((()=>{a(Object(E.n)("accounts"))}),[a]),o=Object(c.useCallback)((()=>{a(Object(E.n)("statuses"))}),[a]),n=Object(c.useCallback)((()=>{a(Object(E.n)("hashtags"))}),[a]);let l,r,d;return e.get("accounts")&&e.get("accounts").size>0&&(l=Object(i.a)(Z.a,{title:Object(W.jsxs)(W.Fragment,{children:[Object(i.a)(N.a,{id:"users",icon:m.a}),Object(i.a)(P.a,{id:"search_results.accounts",defaultMessage:"Profiles"})]})},void 0,R(e.get("accounts")).map((e=>Object(i.a)(J.a,{id:e},e))),e.get("accounts").size>G&&e.get("accounts").size%G==1&&Object(i.a)(B.a,{visible:!0,onClick:s}))),e.get("hashtags")&&e.get("hashtags").size>0&&(d=Object(i.a)(Z.a,{title:Object(W.jsxs)(W.Fragment,{children:[Object(i.a)(N.a,{id:"hashtag",icon:L.a}),Object(i.a)(P.a,{id:"search_results.hashtags",defaultMessage:"Hashtags"})]})},void 0,R(e.get("hashtags")).map((e=>Object(i.a)(D.b,{hashtag:e},e.get("name")))),e.get("hashtags").size>G&&e.get("hashtags").size%G==1&&Object(i.a)(B.a,{visible:!0,onClick:n}))),e.get("statuses")&&e.get("statuses").size>0&&(r=Object(i.a)(Z.a,{title:Object(W.jsxs)(W.Fragment,{children:[Object(i.a)(N.a,{id:"quote-right",icon:S.a}),Object(i.a)(P.a,{id:"search_results.statuses",defaultMessage:"Posts"})]})},void 0,R(e.get("statuses")).map((e=>Object(i.a)(U.a,{id:e},e))),e.get("statuses").size>G&&e.get("statuses").size%G==1&&Object(i.a)(B.a,{visible:!0,onClick:o}))),Object(i.a)("div",{className:"search-results"},void 0,!l&&!d&&!r&&(t?Object(i.a)(H.a,{}):Object(i.a)("div",{className:"empty-column-indicator"},void 0,Object(i.a)(P.a,{id:"search_results.nothing_found",defaultMessage:"Could not find anything for these search terms"}))),l,d,r)};var Y=a(1696),K=a(1839);const Q=Object(n.d)({start:{id:"getting_started.heading",defaultMessage:"Getting started"},home_timeline:{id:"tabs_bar.home",defaultMessage:"Home"},notifications:{id:"tabs_bar.notifications",defaultMessage:"Notifications"},public:{id:"navigation_bar.public_timeline",defaultMessage:"Federated timeline"},community:{id:"navigation_bar.community_timeline",defaultMessage:"Local timeline"},settings:{id:"navigation_bar.app_settings",defaultMessage:"App settings"},logout:{id:"navigation_bar.logout",defaultMessage:"Logout"},compose:{id:"navigation_bar.compose",defaultMessage:"Compose new post"},logoutMessage:{id:"confirmations.logout.message",defaultMessage:"Are you sure you want to log out?"},logoutConfirm:{id:"confirmations.logout.confirm",defaultMessage:"Log out"}});class V extends c.PureComponent{constructor(){super(...arguments),Object(o.a)(this,"state",{elefriend:Math.random()<.9579784472?Math.floor(3*Math.random()):3}),Object(o.a)(this,"handleLogoutClick",(e=>{const{dispatch:t,intl:a}=this.props;return e.preventDefault(),e.stopPropagation(),t(Object(M.b)({modalType:"CONFIRM",modalProps:{message:a.formatMessage(Q.logoutMessage),confirm:a.formatMessage(Q.logoutConfirm),closeWhenConfirm:!1,onConfirm:()=>Object(T.a)()}})),!1})),Object(o.a)(this,"handleSettingsClick",(e=>{const{dispatch:t}=this.props;e.preventDefault(),e.stopPropagation(),t(Object(M.b)({modalType:"SETTINGS",modalProps:{}}))})),Object(o.a)(this,"onFocus",(()=>{this.props.dispatch(Object(I.jb)(!0))})),Object(o.a)(this,"onBlur",(()=>{this.props.dispatch(Object(I.jb)(!1))})),Object(o.a)(this,"cycleElefriend",(()=>{this.setState((e=>({elefriend:(e.elefriend+1)%3})))}))}componentDidMount(){const{dispatch:e}=this.props;e(Object(I.yb)())}componentWillUnmount(){const{dispatch:e}=this.props;e(Object(I.Jb)())}render(){const{multiColumn:e,showSearch:t,showNotificationsBadge:a,unreadNotifications:s,intl:o}=this.props,c=[C.default,q.default,y.default,k.default][this.state.elefriend];if(e){const{columns:n}=this.props;return Object(i.a)("div",{className:"drawer",role:"region","aria-label":o.formatMessage(Q.compose)},void 0,Object(i.a)("nav",{className:"drawer__header"},void 0,Object(i.a)(d.a,{to:"/getting-started",className:"drawer__tab",title:o.formatMessage(Q.start),"aria-label":o.formatMessage(Q.start)},void 0,Object(i.a)(N.a,{id:"bars",icon:p.a})),!n.some((e=>"HOME"===e.get("id")))&&Object(i.a)(d.a,{to:"/home",className:"drawer__tab",title:o.formatMessage(Q.home_timeline),"aria-label":o.formatMessage(Q.home_timeline)},void 0,Object(i.a)(N.a,{id:"home",icon:h.a})),!n.some((e=>"NOTIFICATIONS"===e.get("id")))&&Object(i.a)(d.a,{to:"/notifications",className:"drawer__tab",title:o.formatMessage(Q.notifications),"aria-label":o.formatMessage(Q.notifications)},void 0,Object(i.a)("span",{className:"icon-badge-wrapper"},void 0,Object(i.a)(N.a,{id:"bell",icon:v.a}),a&&s>0&&Object(i.a)("div",{className:"icon-badge"}))),!n.some((e=>"COMMUNITY"===e.get("id")))&&Object(i.a)(d.a,{to:"/public/local",className:"drawer__tab",title:o.formatMessage(Q.community),"aria-label":o.formatMessage(Q.community)},void 0,Object(i.a)(N.a,{id:"users",icon:m.a})),!n.some((e=>"PUBLIC"===e.get("id")))&&Object(i.a)(d.a,{to:"/public",className:"drawer__tab",title:o.formatMessage(Q.public),"aria-label":o.formatMessage(Q.public)},void 0,Object(i.a)(N.a,{id:"globe",icon:_.a})),Object(i.a)("a",{onClick:this.handleSettingsClick,href:"/settings/preferences",className:"drawer__tab",title:o.formatMessage(Q.settings),"aria-label":o.formatMessage(Q.settings)},void 0,Object(i.a)(N.a,{id:"cogs",icon:j})),Object(i.a)("a",{href:"/auth/sign_out",className:"drawer__tab",title:o.formatMessage(Q.logout),"aria-label":o.formatMessage(Q.logout),onClick:this.handleLogoutClick},void 0,Object(i.a)(N.a,{id:"sign-out",icon:f.a}))),e&&Object(i.a)(K.a,{}),Object(i.a)("div",{className:"drawer__pager"},void 0,Object(i.a)("div",{className:"drawer__inner",onFocus:this.onFocus},void 0,Object(i.a)(Y.a,{autoFocus:!Object(z.a)(window.innerWidth)}),Object(i.a)("div",{className:"drawer__inner__mastodon",onClick:this.cycleElefriend},void 0,Object(i.a)("img",{alt:"",draggable:"false",src:F.r||c}))),Object(i.a)(x.a,{defaultStyle:{x:-100},style:{x:u()(t?0:-100,{stiffness:210,damping:20})}},void 0,(e=>{let{x:t}=e;return Object(i.a)("div",{className:"drawer__inner darker",style:{transform:"translateX(".concat(t,"%)"),visibility:-100===t?"hidden":"visible"}},void 0,Object(i.a)(X,{}))}))))}return Object(i.a)(w.a,{onFocus:this.onFocus},void 0,Object(i.a)(Y.a,{}),Object(i.a)(r.a,{},void 0,Object(i.a)("meta",{name:"robots",content:"noindex"})))}}t.default=Object(b.connect)(((e,t)=>({columns:e.getIn(["settings","columns"]),showSearch:!!t.multiColumn&&(e.getIn(["search","submitted"])&&!e.getIn(["search","hidden"])),unreadNotifications:e.getIn(["notifications","unread"]),showNotificationsBadge:e.getIn(["local_settings","notifications","tab_badge"])})))(Object(l.c)(V))}}]);
//# sourceMappingURL=compose.js.map