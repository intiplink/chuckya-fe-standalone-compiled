(window.webpackJsonp=window.webpackJsonp||[]).push([[522],{1977:function(e,t,s){"use strict";s.r(t);var i=s(0),o=s(2),a=(s(41),s(13),s(1)),c=s(8),l=s(26),n=s(58),d=s(201),p=s(47),h=s(10),r=s(1290),b=s.n(r),m=s(1291),u=s(313),O=s(1211),j=s(329),v=s(84),g=s(51),y=s(1775),f=s(88),_=s(557),C=s(555),M=s(23),I=s(455),k=s(2128),w=s(1293),x=s(2106),T=(s(256),s(6));const N=Object(c.d)({followed:{id:"lists.replies_policy.followed",defaultMessage:"Any followed user"},none:{id:"lists.replies_policy.none",defaultMessage:"No one"},list:{id:"lists.replies_policy.list",defaultMessage:"Members of the list"}});class E extends a.PureComponent{constructor(){super(...arguments),Object(o.a)(this,"handlePin",(()=>{const{columnId:e,dispatch:t}=this.props;e?t(Object(j.h)(e)):(t(Object(j.e)("LIST",{id:this.props.params.id})),this.props.history.push("/"))})),Object(o.a)(this,"handleMove",(e=>{const{columnId:t,dispatch:s}=this.props;s(Object(j.g)(t,e))})),Object(o.a)(this,"handleHeaderClick",(()=>{this.column.scrollTop()})),Object(o.a)(this,"setRef",(e=>{this.column=e})),Object(o.a)(this,"handleLoadMore",(e=>{const{id:t}=this.props.params;this.props.dispatch(Object(f.y)(t,{maxId:e}))})),Object(o.a)(this,"handleEditClick",(()=>{this.props.dispatch(Object(g.b)({modalType:"LIST_EDITOR",modalProps:{listId:this.props.params.id}}))})),Object(o.a)(this,"handleDeleteClick",(()=>{const{dispatch:e,columnId:t}=this.props,{id:s}=this.props.params;e(Object(g.b)({modalType:"CONFIRM_DELETE_LIST",modalProps:{listId:s,columnId:t}}))})),Object(o.a)(this,"handleRepliesPolicyChange",(e=>{let{target:t}=e;const{dispatch:s}=this.props,{id:i}=this.props.params;s(Object(v.Q)(i,void 0,!1,void 0,t.value))})),Object(o.a)(this,"onExclusiveToggle",(e=>{let{target:t}=e;const{dispatch:s}=this.props,{id:i}=this.props.params;s(Object(v.Q)(i,void 0,!1,t.checked,void 0))}))}componentDidMount(){const{dispatch:e}=this.props,{id:t}=this.props.params;e(Object(v.G)(t)),e(Object(f.y)(t)),this.disconnect=e(Object(y.d)(t))}UNSAFE_componentWillReceiveProps(e){const{dispatch:t}=this.props,{id:s}=e.params;s!==this.props.params.id&&(this.disconnect&&(this.disconnect(),this.disconnect=null),t(Object(v.G)(s)),t(Object(f.y)(s)),this.disconnect=t(Object(y.d)(s)))}componentWillUnmount(){this.disconnect&&(this.disconnect(),this.disconnect=null)}render(){const{hasUnread:e,columnId:t,multiColumn:s,list:o,intl:a}=this.props,{id:c}=this.props.params,n=!!t,p=o?o.get("title"):c,h=o?o.get("replies_policy"):void 0,r=o?o.get("exclusive"):void 0;return void 0===o?Object(i.a)(_.a,{},void 0,Object(i.a)("div",{className:"scrollable"},void 0,Object(i.a)(I.a,{}))):!1===o?Object(i.a)(w.a,{multiColumn:s,errorType:"routing"}):Object(T.jsxs)(_.a,{bindToDocument:!s,ref:this.setRef,label:p,children:[Object(i.a)(C.b,{icon:"list-ul",iconComponent:O.a,active:e,title:p,onPin:this.handlePin,onMove:this.handleMove,onClick:this.handleHeaderClick,pinned:n,multiColumn:s},void 0,Object(i.a)("div",{className:"column-settings"},void 0,Object(i.a)("section",{className:"column-header__links"},void 0,Object(i.a)("button",{type:"button",className:"text-btn column-header__setting-btn",tabIndex:0,onClick:this.handleEditClick},void 0,Object(i.a)(M.a,{id:"pencil",icon:u.a})," ",Object(i.a)(l.a,{id:"lists.edit",defaultMessage:"Edit list"})),Object(i.a)("button",{type:"button",className:"text-btn column-header__setting-btn",tabIndex:0,onClick:this.handleDeleteClick},void 0,Object(i.a)(M.a,{id:"trash",icon:m.a})," ",Object(i.a)(l.a,{id:"lists.delete",defaultMessage:"Delete list"}))),Object(i.a)("section",{},void 0,Object(i.a)("div",{className:"setting-toggle"},void 0,Object(i.a)(b.a,{id:"list-".concat(c,"-exclusive"),checked:r,onChange:this.onExclusiveToggle}),Object(i.a)("label",{htmlFor:"list-".concat(c,"-exclusive"),className:"setting-toggle__label"},void 0,Object(i.a)(l.a,{id:"lists.exclusive",defaultMessage:"Hide these posts from home"})))),void 0!==h&&Object(i.a)("section",{"aria-labelledby":"list-".concat(c,"-replies-policy")},void 0,Object(i.a)("h3",{id:"list-".concat(c,"-replies-policy")},void 0,Object(i.a)(l.a,{id:"lists.replies_policy.title",defaultMessage:"Show replies to:"})),Object(i.a)("div",{className:"column-settings__row"},void 0,["none","list","followed"].map((e=>Object(i.a)(k.a,{name:"order",value:e,label:a.formatMessage(N[e]),checked:h===e,onChange:this.handleRepliesPolicyChange},e))))))),Object(i.a)(x.a,{trackScroll:!n,scrollKey:"list_timeline-".concat(t),timelineId:"list:".concat(c),onLoadMore:this.handleLoadMore,emptyMessage:Object(i.a)(l.a,{id:"empty_column.list",defaultMessage:"There is nothing in this list yet. When members of this list post new statuses, they will appear here."}),bindToDocument:!s}),Object(i.a)(d.a,{},void 0,Object(i.a)("title",{},void 0,p),Object(i.a)("meta",{name:"robots",content:"noindex"}))]})}}t.default=Object(p.k)(Object(h.connect)(((e,t)=>({list:e.getIn(["lists",t.params.id]),hasUnread:e.getIn(["timelines","list:".concat(t.params.id),"unread"])>0})))(Object(n.c)(E)))}}]);
//# sourceMappingURL=list_timeline.js.map